# Northstar Environment Configuration

# =============================================================================
# Server Configuration
# =============================================================================
NODE_ENV=development
PORT=3000

# Allowed origins for CORS (comma-separated)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# Demo snapshot mode (blocks live sync endpoints when true)
DEMO_MODE=false

# Data mode:
# - live: serve directly from Congress.gov (lowest cost, no DB required)
# - db: use PostgreSQL-backed cached routes
NORTHSTAR_DATA_MODE=live

# Provider kill switches (set false to disable live dependency usage)
CONGRESS_ENABLED=true
GEMINI_ENABLED=true
NEWS_RSS_ENABLED=true
FEDERAL_REGISTER_ENABLED=true
FEC_ENABLED=true
LDA_ENABLED=true

# =============================================================================
# API Keys
# =============================================================================

# Congress.gov API (REQUIRED)
# Get your key at: https://api.congress.gov/sign-up/
CONGRESS_GOV_API_KEY=your_congress_gov_api_key_here

# Gemini API (for AI summaries)
# Get your key at: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=your_gemini_api_key_here

# TrulifAI Brain API (for news analysis)
TRULIFAI_API_KEY=your_trulifai_api_key_here

# OpenSecrets API (for campaign finance)
# Get your key at: https://www.opensecrets.org/api/admin/index.php?function=signup
OPENSECRETS_API_KEY=your_opensecrets_api_key_here

# Census API (for district demographics)
# Get your key at: https://api.census.gov/data/key_signup.html
CENSUS_API_KEY=your_census_api_key_here

# =============================================================================
# Database
# =============================================================================

# PostgreSQL connection string
# Optional when NORTHSTAR_DATA_MODE=live
DATABASE_URL=postgresql://username:password@localhost:5432/northstar_dev

# =============================================================================
# Redis (Optional - for caching)
# =============================================================================

# Redis connection URL (optional)
# REDIS_URL=redis://localhost:6379

# =============================================================================
# Cache Configuration
# =============================================================================

# Cache TTL in seconds (default: 1800 = 30 minutes)
CACHE_TTL=1800

# Enable/disable caching
CACHE_ENABLED=true

# =============================================================================
# Rate Limiting
# =============================================================================

# Rate limit window in milliseconds (default: 900000 = 15 minutes)
RATE_LIMIT_WINDOW_MS=900000

# Max requests per window (default: 100)
RATE_LIMIT_MAX=100

# =============================================================================
# Incremental Sync Budget (for cron / Cloud Run jobs)
# =============================================================================

# Target congress number. Defaults to current congress if omitted.
SYNC_CONGRESS=119

# Delay between API calls in milliseconds.
SYNC_DELAY_MS=750

# Optional lower bound date (YYYY-MM-DD) for recent bill updates.
# SYNC_FROM_DATE=2026-01-01

# Optional global max items for single-entity sync commands (e.g. sync:bills).
# SYNC_MAX_ITEMS=200

# Per-run item limits to stay within API and cost budgets.
SYNC_BILLS_MAX_ITEMS=300
SYNC_HOUSE_VOTES_MAX_ITEMS=80
SYNC_SENATE_VOTES_MAX_ITEMS=0
SYNC_BILL_DETAILS_BATCH_SIZE=20

# =============================================================================
# JWT/Authentication (for future use)
# =============================================================================

# JWT_SECRET=your_jwt_secret_here
# JWT_EXPIRES_IN=7d

# =============================================================================
# External Services (Future)
# =============================================================================

# Twitter/X API (for social media monitoring)
# TWITTER_API_KEY=
# TWITTER_API_SECRET=

# Senate Lobbying Disclosure API
# (No API key required - public API)

# USASpending API
# (No API key required - public API)
